module.exports=[87679,a=>{"use strict";var b=a.i(40463),c=a.i(12755),d=a.i(23984),e=a.i(53714);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),o=(0,c.useRef)(null);(0,c.useEffect)(()=>{p(),q()},[]);let p=async()=>{try{let a=await fetch("/api/gallery"),b=await a.json();f(b.images||[])}catch(a){console.error("Failed to fetch images:",a)}finally{j(!1)}},q=async()=>{try{let a=await fetch("/api/auth"),b=await a.json();h(b.user)}catch{h(null)}},r=async b=>{let c=b.target.files?.[0];if(!c||!g)return;l(!0);let d=new FormData;d.append("image",c);try{let b=await fetch("/api/gallery",{method:"POST",body:d}),c=await b.json();c.image&&f([c.image,...a])}catch(a){console.error("Upload failed:",a)}finally{l(!1),o.current&&(o.current.value="")}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-white to-orange-50 dark:from-[#0D1B2A] dark:via-[#1B2838] dark:to-[#0D1B2A] mt-20",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h1",{className:"text-5xl font-bold text-[#0D1B2A] dark:text-white mb-4",children:"Our Gallery"}),(0,b.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Explore our work and achievements"})]}),g&&(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsxs)("label",{className:"cursor-pointer px-6 py-3 bg-gradient-to-r from-[#1E73BE] to-[#FF8C42] text-white rounded-xl font-semibold hover:opacity-90 transition flex items-center gap-2",children:[k?"Uploading...":"Upload Image",(0,b.jsx)("input",{ref:o,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:r,className:"hidden",disabled:k})]})}),!g&&(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsx)(e.default,{href:"/login",className:"inline-block px-6 py-3 bg-[#1E73BE] text-white rounded-xl font-semibold hover:bg-[#155aa8] transition",children:"Login to Upload"})})]})}),(0,b.jsx)("section",{className:"py-20 bg-gray-50 dark:bg-[#0a1421]",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i?(0,b.jsx)("div",{className:"text-center py-20",children:(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-[#1E73BE] border-t-transparent rounded-full animate-spin mx-auto"})}):0===a.length?(0,b.jsx)("div",{className:"text-center py-20",children:(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No images yet"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map((a,c)=>(0,b.jsxs)("div",{className:"group relative aspect-square rounded-2xl overflow-hidden cursor-pointer",style:{animationDelay:`${100*c}ms`},onClick:()=>n(a.image_url),children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"}),(0,b.jsx)(d.default,{src:a.image_url,alt:"Gallery",fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:(0,b.jsxs)("p",{className:"text-white text-sm font-medium",children:["Uploaded by ",a.uploaded_by_name||"Unknown"]})}),(0,b.jsx)("div",{className:"absolute inset-0 ring-2 ring-white/0 group-hover:ring-white/30 rounded-2xl transition-all duration-300 group-hover:shadow-2xl group-hover:shadow-[#1E73BE]/20"})]},a.id))})})}),m&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm",onClick:()=>n(null),children:(0,b.jsxs)("div",{className:"relative max-w-4xl w-full aspect-video rounded-2xl overflow-hidden",children:[(0,b.jsx)(d.default,{src:m,alt:"Preview",fill:!0,className:"object-contain"}),(0,b.jsx)("button",{className:"absolute top-4 right-4 w-10 h-10 bg-white/20 hover:bg-white/40 rounded-full flex items-center justify-center text-white transition",onClick:()=>n(null),children:"âœ•"})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=d63ac_solution-website%20%282%29_manhar-total-solution-website_app_gallery_page_tsx_16d7f930._.js.map