(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11854,e=>{"use strict";var t=e.i(19259),a=e.i(22453),r=e.i(94318),l=e.i(49979);function s(){let[e,s]=(0,a.useState)([]),[i,n]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(null),g=(0,a.useRef)(null);(0,a.useEffect)(()=>{h(),p()},[]);let h=async()=>{try{let e=await fetch("/api/gallery"),t=await e.json();s(t.images||[])}catch(e){console.error("Failed to fetch images:",e)}finally{c(!1)}},p=async()=>{try{let e=await fetch("/api/auth"),t=await e.json();n(t.user)}catch{n(null)}},f=async t=>{let a=t.target.files?.[0];if(!a||!i)return;m(!0);let r=new FormData;r.append("image",a);try{let t=await fetch("/api/gallery",{method:"POST",body:r}),a=await t.json();a.image&&s([a.image,...e])}catch(e){console.error("Upload failed:",e)}finally{m(!1),g.current&&(g.current.value="")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-white to-orange-50 dark:from-[#0D1B2A] dark:via-[#1B2838] dark:to-[#0D1B2A] mt-20",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold text-[#0D1B2A] dark:text-white mb-4",children:"Our Gallery"}),(0,t.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Explore our work and achievements"})]}),i&&(0,t.jsx)("div",{className:"flex justify-center mb-8",children:(0,t.jsxs)("label",{className:"cursor-pointer px-6 py-3 bg-gradient-to-r from-[#1E73BE] to-[#FF8C42] text-white rounded-xl font-semibold hover:opacity-90 transition flex items-center gap-2",children:[d?"Uploading...":"Upload Image",(0,t.jsx)("input",{ref:g,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:f,className:"hidden",disabled:d})]})}),!i&&(0,t.jsx)("div",{className:"text-center mb-8",children:(0,t.jsx)(l.default,{href:"/login",className:"inline-block px-6 py-3 bg-[#1E73BE] text-white rounded-xl font-semibold hover:bg-[#155aa8] transition",children:"Login to Upload"})})]})}),(0,t.jsx)("section",{className:"py-20 bg-gray-50 dark:bg-[#0a1421]",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o?(0,t.jsx)("div",{className:"text-center py-20",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-[#1E73BE] border-t-transparent rounded-full animate-spin mx-auto"})}):0===e.length?(0,t.jsx)("div",{className:"text-center py-20",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No images yet"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e,a)=>(0,t.jsxs)("div",{className:"group relative aspect-square rounded-2xl overflow-hidden cursor-pointer",style:{animationDelay:`${100*a}ms`},onClick:()=>u(e.image_url),children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"}),(0,t.jsx)(r.default,{src:e.image_url,alt:"Gallery",fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:(0,t.jsxs)("p",{className:"text-white text-sm font-medium",children:["Uploaded by ",e.uploaded_by_name||"Unknown"]})}),(0,t.jsx)("div",{className:"absolute inset-0 ring-2 ring-white/0 group-hover:ring-white/30 rounded-2xl transition-all duration-300 group-hover:shadow-2xl group-hover:shadow-[#1E73BE]/20"})]},e.id))})})}),x&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm",onClick:()=>u(null),children:(0,t.jsxs)("div",{className:"relative max-w-4xl w-full aspect-video rounded-2xl overflow-hidden",children:[(0,t.jsx)(r.default,{src:x,alt:"Preview",fill:!0,className:"object-contain"}),(0,t.jsx)("button",{className:"absolute top-4 right-4 w-10 h-10 bg-white/20 hover:bg-white/40 rounded-full flex items-center justify-center text-white transition",onClick:()=>u(null),children:"âœ•"})]})})]})}e.s(["default",()=>s])}]);